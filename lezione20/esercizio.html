<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--
        Generare una lista di link a partire da un elenco di articoli presenti nel codice html
    -->
    <h1>The Extremadura Region of Western Spain</h1>
    <article id="item-1">
        <h2>Geography Of The Region</h2>
        <p>The autonomous community of Extremadura is in western Spain alongside the
            Portuguese border. It borders the Spanish regions of Castilla y Leon, Castilla La
            Mancha and Andalucía as well as Portugal (to the West). Covering over 40,000 square
            kilometers it has two provinces: Cáceres in the North and Badajoz in the South.</p>
    </article>
    <article id="item-2222">
        <h2>Where To Stay</h2>
        <p>There is a wide range of accommodation throughout Extremadura including
            small inns and guest houses ('Hostals') or think about renting a 'casa rural'
            (country house)if you are traveling in a group.</p>
    </article>
    <article id="item-X">
        <h2>Climate</h2>
        <p>Generally Mediterranean, except for the north, where it is continental.
            Generally known for its extremes, including very hot and dry summers with frequentdroughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winterdroughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.s. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.
            droughts, and its long and mild winters. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consequatur voluptate optio fugiat. Nobis perspiciatis veritatis odit, in provident placeat laborum. Accusamus, ratione excepturi eveniet nisi itaque praesentium dicta odit officiis.</p>
    </article>
    <article id="item-4">
        <h2>What To See</h2>
        <p>Extremadura hosts major events all year round including theater, music,
            cinema, literature and folklore. Spectacular venues include castles, medieval town
            squares and historic centers. There are special summer theater festivals in the
            Mérida, Cáceres, Alcántara and Alburquerque.lorem Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem harum ad dicta eius neque minus. At molestias adipisci quaerat, sapiente repudiandae omnis vitae a necessitatibus quis, excepturi nam veritatis sed!</p>
    </article>
    <article id="item-a-caso">
        <h2>A caso</h2>
        <p>Extremadura hosts major events all year round including theater, music,
            cinema, literature and folklore. Spectacular venues include castles, medieval town
            squares and historic centers. There are special summer theater festivals in the
            Mérida, Cáceres, Alcántara and Alburquerque.lorem Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem harum ad dicta eius neque minus. At molestias adipisci quaerat, sapiente repudiandae omnis vitae a necessitatibus quis, excepturi nam veritatis sed!</p>
    </article>
    <article id="item-5">
        <h2>Gastronomy</h2>
        <p>The quality of Extremaduran food arises from the fine quality of the local
            ingredients. In addition to free-range lamb and beef, fabulous cheeses, red and
            white wines, olive oil, honey and paprika, Extremadura is particularly renowned for
            Iberian ham. The 'pata negra' (blackfoot) pigs are fed on acorns in the cork-oak
            forests, the key to producing the world's best ham and cured sausages.</p>
    </article>

    <script>
        function getTitlesFromArticles(list) {
            const articleTitles = [];
            for (let i = 0; i < list.length; i++) {
                console.log("TITOLO "+list.item(i).innerHTML);
                articleTitles.push(list.item(i).innerHTML);
            }
            return articleTitles;
        }

        function getItems(list)
        {
            const itemsNum = [];
            for (let i = 0; i < list.length; i++) {
                console.log("Item "+list.item(i).getAttribute("id"));
                itemsNum.push(list.item(i).getAttribute("id"));
            }
            return itemsNum;
        }

        function createAnchor(title, order) {
            const elementA = document.createElement("a");
            elementA.style.color = "red";
            elementA.innerHTML = title;
            elementA.setAttribute("href", "#"+order);
            elementA.setAttribute("target", "_self");
            return elementA;
        }

        (function () {
            const articleTitles = getTitlesFromArticles(document.querySelectorAll("article > h2"));
            const itemsNum = getItems(document.querySelectorAll("article"));
            console.log (itemsNum);
            const bodyElement = document.querySelector("body");
            const elementUl = document.createElement("ul");

            if (bodyElement instanceof HTMLBodyElement) {
                bodyElement.style = "background-color: yellow";
                bodyElement.prepend(elementUl);

                for (let i = 0; i < articleTitles.length; i++) {
                    const element = document.createElement("li");
                    const elementA = createAnchor(articleTitles[i], itemsNum[i]);
                    element.append(elementA);
                    elementUl.append(element);
                }
            }
        })();
    </script>
</body>

</html>